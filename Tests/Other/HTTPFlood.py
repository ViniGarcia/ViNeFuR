import sys
import time
import socket

httpPacket =  b"RT\x00;\x0ctRT\x00\x00\x00e\x08\x00E\x00\x00|>~@\x00@\x06z\x98\xc0\xa8\x00\n\xc0\xa8\x00\x0b\x98:\x00P\x92\xab\x11\xe9\x12S\xd6H\x80\x18\x01\xc9\xb1F\x00\x00\x01\x01\x08\n\x00\x0f/\x96\x00'\xd61GET /index.html HTTP/1.1\r\nHost: 192.168.0.11\r\nConnection: keep-alive\r\n\r\n"
httpsPacket = b"RT\x00;\x0ctRT\x00\x00\x00e\x08\x00E\x00\x01n\x154@\x00@\x06\xa2\xf0\xc0\xa8\x00\n\xc0\xa8\x00\x0b\x9d\xa0\x01\xbb\x8e\xc5\xcc\xdd\x8fy`\x8e\x80\x18\x01\xc9\xcd\xf4\x00\x00\x01\x01\x08\n\x00\x0e\xd9\xf0\x00'\x80\x8b\x16\x03\x01\x015\x01\x00\x011\x03\x038\x1b=\xff\xf7\xce4\x00\xf9\xfe(\xe1\x0bIdG\xafmv\xee2\xf1#\xdd\xec\x8e(=\x90Ov\xdf\x00\x00\x82\xc00\xc0,\xc0(\xc0$\xc0\x14\xc0\n\x00\xa3\x00\x9f\x00k\x00j\x009\x008\x00\x88\x00\x87\xc02\xc0.\xc0*\xc0&\xc0\x0f\xc0\x05\x00\x9d\x00=\x005\x00\x84\xc0/\xc0+\xc0'\xc0#\xc0\x13\xc0\t\x00\xa2\x00\x9e\x00g\x00@\x003\x002\x00\x9a\x00\x99\x00E\x00D\xc01\xc0-\xc0)\xc0%\xc0\x0e\xc0\x04\x00\x9c\x00<\x00/\x00\x96\x00A\xc0\x11\xc0\x07\xc0\x0c\xc0\x02\x00\x05\x00\x04\xc0\x12\xc0\x08\x00\x16\x00\x13\xc0\r\xc0\x03\x00\n\x00\xff\x01\x00\x00\x86\x00\x00\x00\x11\x00\x0f\x00\x00\x0c192.168.0.11\x00\x0b\x00\x04\x03\x00\x01\x02\x00\n\x004\x002\x00\x0e\x00\r\x00\x19\x00\x0b\x00\x0c\x00\x18\x00\t\x00\n\x00\x16\x00\x17\x00\x08\x00\x06\x00\x07\x00\x14\x00\x15\x00\x04\x00\x05\x00\x12\x00\x13\x00\x01\x00\x02\x00\x03\x00\x0f\x00\x10\x00\x11\x00#\x00\x00\x00\r\x00 \x00\x1e\x06\x01\x06\x02\x06\x03\x05\x01\x05\x02\x05\x03\x04\x01\x04\x02\x04\x03\x03\x01\x03\x02\x03\x03\x02\x01\x02\x02\x02\x03\x00\x0f\x00\x01\x013t\x00\x00"

if len(sys.argv) < 4:
	print(".py interface packetsPerSecond protocol(HTTP/HTTPS)")
	exit()

outSocket = socket.socket(socket.AF_PACKET, socket.SOCK_RAW)
outSocket.setsockopt(socket.SOL_SOCKET, socket.SO_SNDBUF, 1514)
outSocket.bind((sys.argv[1], 0))

sleepTime = 1/float(sys.argv[2])

if sys.argv[3] == 'HTTP':
	while True:
		outSocket.send(httpPacket)
		time.sleep(sleepTime)

if sys.argv[3] == 'HTTPS':
	while True:
		outSocket.send(httpsPacket)
		time.sleep(sleepTime)

print(".py interface packetsPerSecond protocol(HTTP/HTTPS)")
exit()